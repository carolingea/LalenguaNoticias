!function(e,a,t,o){function i(e){var t=a.dialogArguments||opener||parent||top;t.send_to_editor(e)}e(t).ready(function(){if(null!==parent.tinymce.activeEditor)var a=parent.tinymce.activeEditor.windowManager.getParams();if(e(".focuswp-layout-selector").length>0){var t=e("#focuswp-dummy-fld").val();e(".focuswp-type-fld").remove(),e(".focuswp-layout-selector label").removeClass("selected"),e(".focuswp-styling-input").each(function(){var a=e(this).attr("data-name");e(this).attr("name",t.replace("--dummy--",a))})}if("undefined"!=typeof a&&a&&"undefined"!=typeof a.scdata){e("form#focuswp-media-frame").css({visibility:"hidden"}),e("form #focuswp-query-submit").attr("data-action","edit").val(focuswp_localized.update),e("form #media_frame_fld").val("true");e.ajax({url:focuswp_localized.ajaxurl,type:"POST",data:{action:"focuswp_extract_shortcodes",data:e(a.scdata).html()},success:function(a){var t=e.parseJSON(a);if(t){if("undefined"!=typeof t.category&&t.category)var o=t.category.split(",");e.each(t,function(a,t){e(".focuswp-layout-selector").length>0&&"type"==a?(e("form#focuswp-media-frame").find('[data-name="'+a+'"]').filter('[value="'+t+'"]').attr("checked",!0),t&&e("form#focuswp-media-frame").find('[data-name="'+a+'"]').filter('[value="'+t+'"]').parent("label").addClass("selected")):"category"==a&&"undefined"!=typeof o?e.each(o,function(t,o){e("form#focuswp-media-frame").find('[data-name="'+a+"-"+o+'"]').attr("checked",!0)}):"autoplay"==a&&"true"==t?e("form#focuswp-media-frame").find('[data-name="'+a+'"]').attr("checked",!0):"pager"==a&&"true"==t?e("form#focuswp-media-frame").find('[data-name="'+a+'"]').attr("checked",!0):"type"==a&&"featured--on"==t?e("form#focuswp-media-frame").find('[data-name="'+a+'"]').attr("checked",!0):e("form#focuswp-media-frame").find('[data-name="'+a+'"]').val(t)}),e(".focuswp-color").length>0&&e(".focuswp-color").each(function(a,t){e(this).wpColorPicker("color",e(this).val())}),e("form#focuswp-media-frame").css({visibility:"visible"})}}})}e("form#focuswp-media-frame").on("submit",function(a){var t=e(this),o=t.find("#focuswp-query-submit").attr("data-action");e.ajax({url:t.attr("action"),type:"POST",data:{action:"focuswp_media_upload",data:t.serialize()},success:function(e){"undefined"!=typeof o&&"edit"==o?(top.tinymce.activeEditor.selection.setContent(e),top.tinymce.activeEditor.windowManager.close()):i(e)}});return!1})})}(jQuery,window,document);